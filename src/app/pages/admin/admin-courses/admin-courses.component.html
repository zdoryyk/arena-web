<main id="main" class="main">
    <section class="section">
        <div class="container">
            <div class="cards">
                <div class="card">
                    <mat-icon class="custom-icon-size" svgIcon="hat"></mat-icon>
                    <div class="card-title">{{courses.length}} Courses</div>
                </div>
                <div class="card">
                    <mat-icon class="custom-icon-size" svgIcon="book"></mat-icon> 
                    <div class="card-title">{{totalSubmissions}} Problemsets</div>
                </div>
                <div class="card">
                    <mat-icon class="custom-icon-size" svgIcon="users"></mat-icon>
                    <div class="card-title">{{totalGroups}} Groups</div>
                </div>
            </div>
            <div class="courses-button-container">
                <h1 class="title">Active Courses</h1>
                <button class="courses-button">
                  <mat-icon class="button-icon" svgIcon="button" (click)="openNewCourseDialog()"></mat-icon>
                </button>
            </div>     
            <div class="active courses">
             @if(loading)   {
                <div class="skeleton"><p-skeleton width="100%" height="100%" ></p-skeleton></div>
             }@else {
                @for (course of courses; track $index) {
                    <app-course-card
                    [title]="course.attributes.title"
                    [id]="course.id"
                    [problemsets]="course.relationships.problemsets.data.length"
                    [groups]="course.relationships.groups.data.length"
                    >
                    </app-course-card>
                }
             }
            </div> 
            @if (archivedCourses.length > 0) {
                <div class="courses-button-container">
                    <h1 class="title">Archived  Courses</h1>
                </div>   
                <div class="archieved courses">
                    @for (course of archivedCourses; track $index) {
                        <app-problemset-card
                        [title]="course.attributes.title"
                        [id]="course.id"
                        ></app-problemset-card>
                    }
                </div> 
            }
        </div>
    </section>
</main>